<ui:UXML xmlns:ui="UnityEngine.UIElements" xmlns:uie="UnityEditor.UIElements" editor-extension-mode="False">
    <ui:Style src="../50_USS/Theme.uss" />
    <ui:Style src="../50_USS/GameUI.uss" />
    <ui:VisualElement name="Root" class="root" picking-mode="Ignore">
        <!-- Top Toolbar -->
        <ui:VisualElement name="Toolbar" class="toolbar">
            <ui:VisualElement class="toolbar-group">
                <ui:Button name="UndoButton" class="toolbar-button" text="Undo" />
                <ui:Button name="RedoButton" class="toolbar-button" text="Redo" />
                <ui:VisualElement style="width: 16px;" /> <!-- Spacer -->
                <ui:Button name="ClearBoardButton" class="toolbar-button" text="Clear Board" />
                <ui:Button name="CircuitDiagramButton" class="toolbar-button" text="ðŸ“‹ Circuit" />
            </ui:VisualElement>
            
            <ui:VisualElement class="toolbar-group">
                <ui:Button name="simulate-button" class="toolbar-button" text="â–¶ RUN SIMULATION" />
                <ui:Button name="btn-toggle-results" class="toolbar-button" text="Results" />
                <ui:Button name="HelpButton" class="toolbar-button" text="â“ ë„ì›€ë§" />
            </ui:VisualElement>
        </ui:VisualElement>

        <!-- Main Content Area -->
        <ui:VisualElement name="MainContainer" class="main-container" picking-mode="Ignore">
            <!-- Left Component Palette -->
            <ui:VisualElement name="ComponentPalette" class="component-palette">
                <ui:ScrollView class="palette-scroll">
                </ui:ScrollView>
                
                <!-- Property Editor (below palette scroll) -->
                <ui:VisualElement name="PropertyEditor" class="property-editor" style="display: none;">
                    <ui:Label name="PropEditorTitle" text="Component" class="prop-editor-title" />
                    <!-- Editable mode (R/L/C/V/I) -->
                    <ui:VisualElement name="PropEditorEditable" class="prop-editor-section">
                        <ui:Label name="PropValueLabel" text="Resistance" class="prop-label" />
                        <ui:VisualElement class="prop-input-row">
                            <ui:TextField name="PropValueField" class="prop-value-field" />
                            <ui:Label name="PropUnitLabel" text="Î©" class="prop-unit-label" />
                        </ui:VisualElement>
                        <ui:Label name="PropDefaultHint" text="Default: 1000" class="prop-default-hint" />
                    </ui:VisualElement>
                    <!-- Read-only mode (BJT/FET/Diode) -->
                    <ui:VisualElement name="PropEditorReadOnly" class="prop-editor-section" style="display: none;">
                        <ui:Label name="PropSpecsText" text="" class="prop-specs-text" />
                    </ui:VisualElement>
                </ui:VisualElement>
            </ui:VisualElement>

            <ui:VisualElement name="PaletteResizeHandle" class="palette-resize-handle" />
            
            <!-- Center Game View (Transparent & Click-through) -->
            <ui:VisualElement name="GameView" class="game-view" picking-mode="Ignore">
                <ui:Label name="simulation-status" text="SIMULATING..." style="display: none;" />
                <ui:VisualElement name="stage-objectives" class="stage-objectives" picking-mode="Ignore">
                    <ui:Label name="stage-title" class="stage-title" text="Stage 1-1" picking-mode="Ignore" />
                    <ui:Label name="stage-targets" class="stage-targets" text="Target: VOUT = 3.33V" picking-mode="Ignore" />
                </ui:VisualElement>
            </ui:VisualElement>
        </ui:VisualElement>

        <!-- Bottom Status Bar -->
        <ui:VisualElement name="StatusBar" class="status-bar">
            <ui:Label name="StatusText" text="Ready" class="status-label" />
            <ui:VisualElement class="status-separator" />
            <ui:Label name="StatusBudget" text="Budget: --" class="status-label status-budget" />
            
            <ui:VisualElement style="flex-grow: 1;" /> <!-- Flexible Spacer -->
            
            <ui:VisualElement class="status-separator" />
            <ui:Label name="StatusCoords" text="0, 0" class="status-label" />
            
            <ui:VisualElement class="status-separator" />
            <ui:Label name="StatusGrid" text="Grid: 1.0m" class="status-label" />
            
            <ui:VisualElement class="status-separator" />
            <ui:Label name="StatusZoom" text="100%" class="status-label" />
        </ui:VisualElement>

        <!-- Results Panel Overlay -->
        <ui:VisualElement name="results-panel" class="results-panel" style="display: none;">
            <ui:Label name="result-status" class="result-status" text="PASS" />
            <ui:Label name="star-display" class="star-display" text="â˜…â˜…â˜…" />
            <ui:Label name="total-score" class="total-score" text="1000" />
            
            <ui:Label name="score-breakdown" class="score-breakdown" text="Base Score: 500&#10;Bonus: 500" />
            
            <ui:ScrollView class="results-log-scroll">
                <ui:Label name="results-text" class="results-text" text="Simulation successful." />
            </ui:ScrollView>
            
            <ui:Label name="rechallenge-prompt" class="rechallenge-prompt" text="" />
            
            <ui:VisualElement class="results-button-row">
                <ui:Button name="btn-modify-circuit" text="Modify Circuit" class="results-nav-button" />
                <ui:Button name="btn-retry-stage" text="Retry" class="results-nav-button" />
                <ui:Button name="btn-next-stage" text="Next Stage" class="results-nav-button results-nav-primary" style="display: none;" />
            </ui:VisualElement>
        </ui:VisualElement>

        <!-- Circuit Diagram Modal -->
        <ui:VisualElement name="circuit-diagram-modal" class="modal-overlay" style="display: none;">
            <ui:VisualElement class="modal-panel">
                <ui:Label name="circuit-diagram-title" class="modal-title" text="Example Circuit" />
                <ui:ScrollView class="modal-scroll">
                    <ui:Label name="circuit-diagram-text" class="modal-body-text" text="No circuit description available." />
                </ui:ScrollView>
                <ui:Button name="circuit-diagram-close" class="close-button" text="CLOSE" />
            </ui:VisualElement>
        </ui:VisualElement>

        <!-- Help Overlay -->
        <ui:VisualElement name="help-overlay" class="modal-overlay" style="display: none;">
            <ui:VisualElement class="modal-panel">
                <ui:Label class="modal-title" text="ì¡°ìž‘ë²• &amp; ë„ì›€ë§" />
                <ui:ScrollView class="modal-scroll">
                    <ui:Label class="modal-body-text" text="í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;Ctrl+Z .......... ì‹¤í–‰ ì·¨ì†Œ&#10;Ctrl+Y .......... ë‹¤ì‹œ ì‹¤í–‰&#10;Delete / Backspace . ì„ íƒ í•­ëª© ì‚­ì œ&#10;Escape .......... ì„ íƒ í•´ì œ / ì·¨ì†Œ&#10;R ............... ë¶€í’ˆ íšŒì „&#10;Ctrl+W .......... ë°°ì„  ëª¨ë“œ ì „í™˜&#10;&#10;ë°°ì¹˜&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;1. ì¢Œì¸¡ íŒ”ë ˆíŠ¸ì—ì„œ ë¶€í’ˆì„ ì„ íƒí•©ë‹ˆë‹¤&#10;2. ê·¸ë¦¬ë“œë¥¼ í´ë¦­í•˜ì—¬ ë°°ì¹˜í•©ë‹ˆë‹¤&#10;3. ë°°ì¹˜ëœ ë¶€í’ˆì˜ í•€ì„ í´ë¦­í•˜ì—¬ ë°°ì„ ì„ ì‹œìž‘í•©ë‹ˆë‹¤&#10;4. ë‹¤ë¥¸ í•€ì„ í´ë¦­í•˜ì—¬ ì—°ê²°í•©ë‹ˆë‹¤&#10;&#10;ë°°ì„ &#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;â€¢ Ctrl+Wë¥¼ ëˆŒëŸ¬ ë°°ì„  ëª¨ë“œë¡œ ì „í™˜í•©ë‹ˆë‹¤&#10;â€¢ í•€ì„ í´ë¦­í•˜ì—¬ ë°°ì„ ì„ ì‹œìž‘í•©ë‹ˆë‹¤&#10;â€¢ ë‹¤ë¥¸ í•€ì„ í´ë¦­í•˜ì—¬ ì—°ê²°ì„ ì™„ë£Œí•©ë‹ˆë‹¤&#10;â€¢ Escapeë¥¼ ëˆŒëŸ¬ ë°°ì„  ëª¨ë“œë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤&#10;&#10;ì‹œë®¬ë ˆì´ì…˜&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;â€¢ â–¶ ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰ì„ í´ë¦­í•˜ì—¬ íšŒë¡œë¥¼ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤&#10;â€¢ OUT ë…¸ë“œì—ì„œ ëª©í‘œ ì „ì••ì„ ë‹¬ì„±í•˜ì„¸ìš”&#10;â€¢ ì˜ˆì‚°ê³¼ ë©´ì ì´ ì ìˆ˜ì— ì˜í–¥ì„ ì¤ë‹ˆë‹¤" />
                </ui:ScrollView>
                <ui:Button name="help-overlay-close" class="close-button" text="í™•ì¸" />
            </ui:VisualElement>
        </ui:VisualElement>
    </ui:VisualElement>
</ui:UXML>
